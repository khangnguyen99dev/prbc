"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[498],{5498:(b,p,r)=>{r.r(p),r.d(p,{SignInModule:()=>T});var u=r(6895),l=r(2605),m=r(5861),f=r(1822),g=r(2340),e=r(1571),i=r(433),h=r(12);function y(a,s){1&a&&(e.ynx(0),e._UZ(1,"i",17),e.BQk())}function w(a,s){1&a&&(e.ynx(0),e._UZ(1,"i",18),e.BQk())}let v=(()=>{const s=class{constructor(t){this.router=t,this.employeeNumber="",this.password="",this.errorMessages=[],this.successMessage="",this.loading=!1,this.hidePassword=!0}ngOnInit(){window.localStorage.getItem(g.N.api_token_identifier)&&this.router.navigateByUrl("/home")}signIn(){var t=this;return(0,m.Z)(function*(){t.errorMessages=[],t.loading=!0;try{const n=yield f.Z.post(`${g.N.api_url}/login`,{employee_number:t.employeeNumber,password:t.password});if(n.data.error)return t.errorMessages=[n.data.error_message],window.scrollTo(0,0),t.loading=!1,void t.clearMessages();window.localStorage.setItem(g.N.api_token_identifier,n.data.access_token),t.router.navigateByUrl("/home")}catch(n){console.error(n),422===n.response?.status?Object.keys(n.response.data.errors).forEach(o=>{t.errorMessages.push(n.response.data.errors[o])}):t.errorMessages.push("Sorry, something went wrong. Please try again later."),window.scrollTo(0,0),t.loading=!1,t.clearMessages()}})()}togglePassword(){this.hidePassword=!this.hidePassword}clearMessages(){setTimeout(()=>{this.successMessage=""},3500)}};let a=s;return s.\u0275fac=function(n){return new(n||s)(e.Y36(l.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-sign-in"]],decls:24,vars:7,consts:[[1,"grid","grow"],[1,"flex","justify-center","items-center"],[1,"sm:w-1/2","w-full",3,"errorMessages","successMessage"],[1,"flex","justify-center","items-center","p-8","lg:p-10","order-2","lg:order-1"],[1,"card","max-w-[370px]","w-full"],[1,"card-body","flex","flex-col","gap-5","p-10"],[1,"text-center","mb-2.5"],[1,"text-lg","font-medium","text-gray-900","leading-none"],[1,"flex","flex-col","gap-1"],[1,"form-label","font-normal","text-gray-900"],["placeholder","Enter employee number","type","text","value","",1,"input",3,"ngModel","ngModelChange"],[1,"flex","items-center","justify-between","gap-1"],["data-toggle-password","true",1,"input"],["name","user_password","placeholder","Enter Password","value","",3,"ngModel","type","ngModelChange"],["data-toggle-password-trigger","true","type","button",1,"btn","btn-icon",3,"click"],[4,"ngIf"],["type","button",1,"btn","btn-primary","flex","justify-center","grow",3,"click"],[1,"ki-filled","ki-eye","text-gray-500","toggle-password-active:hidden"],[1,"ki-filled","ki-eye-slash","text-gray-500","toggle-password-active:block"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-alert",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h3",7),e._uU(8," Sign in "),e.qZA()(),e.TgZ(9,"div",8)(10,"label",9),e._uU(11," Employee Number "),e.qZA(),e.TgZ(12,"input",10),e.NdJ("ngModelChange",function(c){return o.employeeNumber=c}),e.qZA()(),e.TgZ(13,"div",8)(14,"div",11)(15,"label",9),e._uU(16," Password "),e.qZA()(),e.TgZ(17,"div",12)(18,"input",13),e.NdJ("ngModelChange",function(c){return o.password=c}),e.qZA(),e.TgZ(19,"button",14),e.NdJ("click",function(){return o.togglePassword()}),e.YNc(20,y,2,0,"ng-container",15),e.YNc(21,w,2,0,"ng-container",15),e.qZA()()(),e.TgZ(22,"button",16),e.NdJ("click",function(){return o.signIn()}),e._uU(23," Sign In "),e.qZA()()()()()),2&n&&(e.xp6(2),e.Q6J("errorMessages",o.errorMessages)("successMessage",o.successMessage),e.xp6(10),e.Q6J("ngModel",o.employeeNumber),e.xp6(6),e.s9C("type",o.hidePassword?"password":"text"),e.Q6J("ngModel",o.password),e.xp6(2),e.Q6J("ngIf",o.hidePassword),e.xp6(1),e.Q6J("ngIf",!o.hidePassword))},dependencies:[u.O5,i.Fj,i.JJ,i.On,h.w]}),a})();var M=r(5730);const Z=[{path:"",component:v}];let T=(()=>{const s=class{};let a=s;return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[u.ez,l.Bz.forChild(Z),i.u5,M.n,l.Bz]}),a})()}}]);