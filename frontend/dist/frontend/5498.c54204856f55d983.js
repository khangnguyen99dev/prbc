"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5498],{12:(Z,f,l)=>{l.d(f,{w:()=>y});var e=l(1571),d=l(6895);function _(n,a){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.xp6(1),e.Oqu(r)}}function h(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3),e._uU(2," Error "),e.qZA(),e.TgZ(3,"div",4),e.YNc(4,_,2,1,"p",5),e.qZA(),e._UZ(5,"div",6),e.qZA()),2&n){const r=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",r.errorMessages)}}function u(n,a){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const r=a.$implicit;e.xp6(1),e.Oqu(r)}}function t(n,a){if(1&n&&(e.TgZ(0,"div",4),e.YNc(1,u,2,1,"p",5),e.qZA()),2&n){const r=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",r.errorMessages)}}function p(n,a){if(1&n){const r=e.EpF();e.TgZ(0,"div",2)(1,"div",7),e.NdJ("click",function(){e.CHM(r);const o=e.oxw(2);return e.KtG(o.toggleErrors())}),e._uU(2),e.TgZ(3,"span"),e._uU(4,"(Click here to show)"),e.qZA()(),e.YNc(5,t,2,1,"div",8),e._UZ(6,"div",6),e.qZA()}if(2&n){const r=e.oxw(2);e.xp6(2),e.hij(" Sorry, system find ",r.errorMessages.length," errors. "),e.xp6(3),e.Q6J("ngIf",r.showErrors)}}function v(n,a){if(1&n&&(e.ynx(0),e.YNc(1,h,6,1,"div",1),e.YNc(2,p,7,2,"div",1),e.BQk()),2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",1===r.errorMessages.length),e.xp6(1),e.Q6J("ngIf",r.errorMessages.length>1)}}function x(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"div",9),e._uU(2," Success "),e.qZA(),e.TgZ(3,"div",10)(4,"p"),e._uU(5),e.qZA()(),e._UZ(6,"div",6),e.qZA()),2&n){const r=e.oxw();e.xp6(5),e.Oqu(r.successMessage)}}let y=(()=>{const a=class{constructor(){this.errorMessages=[],this.successMessage="",this.showErrors=!1}toggleErrors(){this.showErrors=!this.showErrors}};let n=a;return a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-alert"]],inputs:{errorMessages:"errorMessages",successMessage:"successMessage"},decls:2,vars:2,consts:[[4,"ngIf"],["role","alert",4,"ngIf"],["role","alert"],[1,"bg-red-500","text-white","font-bold","rounded-t","px-4","py-2"],[1,"border","border-t-0","border-red-400","rounded-b","bg-red-100","px-4","py-3","text-red-700"],[4,"ngFor","ngForOf"],[1,"mb-4"],[1,"bg-red-500","text-white","font-bold","rounded-t","px-4","py-2","cursor-pointer",3,"click"],["class","border border-t-0 border-red-400 rounded-b bg-red-100 px-4 py-3 text-red-700",4,"ngIf"],[1,"bg-green-500","text-white","font-bold","rounded-t","px-4","py-2"],[1,"border","border-t-0","border-green-400","rounded-b","bg-green-100","px-4","py-3","text-green-700"]],template:function(o,s){1&o&&(e.YNc(0,v,3,2,"ng-container",0),e.YNc(1,x,7,1,"div",1)),2&o&&(e.Q6J("ngIf",s.errorMessages.length>0),e.xp6(1),e.Q6J("ngIf",""!==s.successMessage))},dependencies:[d.sg,d.O5]}),n})()},5498:(Z,f,l)=>{l.r(f),l.d(f,{SignInModule:()=>m});var e=l(6895),d=l(2605),_=l(5861),h=l(1822),u=l(2340),t=l(1571),p=l(433),v=l(12);function x(o,s){1&o&&(t.ynx(0),t._UZ(1,"i",17),t.BQk())}function y(o,s){1&o&&(t.ynx(0),t._UZ(1,"i",18),t.BQk())}let n=(()=>{const s=class{constructor(i){this.router=i,this.employeeNumber="",this.password="",this.errorMessages=[],this.successMessage="",this.loading=!1,this.hidePassword=!0}ngOnInit(){window.localStorage.getItem(u.N.api_token_identifier)&&this.router.navigateByUrl("/home")}signIn(){var i=this;return(0,_.Z)(function*(){i.errorMessages=[],i.loading=!0;try{const g=yield h.Z.post(`${u.N.api_url}/login`,{employee_number:i.employeeNumber,password:i.password});if(g.data.error)return i.errorMessages=[g.data.error_message],window.scrollTo(0,0),i.loading=!1,void i.clearMessages();window.localStorage.setItem(u.N.api_token_identifier,g.data.access_token),i.router.navigateByUrl("/home")}catch(g){console.error(g),422===g.response?.status?Object.keys(g.response.data.errors).forEach(c=>{i.errorMessages.push(g.response.data.errors[c])}):i.errorMessages.push("Sorry, something went wrong. Please try again later."),window.scrollTo(0,0),i.loading=!1,i.clearMessages()}})()}togglePassword(){this.hidePassword=!this.hidePassword}clearMessages(){setTimeout(()=>{this.successMessage=""},3500)}};let o=s;return s.\u0275fac=function(g){return new(g||s)(t.Y36(d.F0))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-sign-in"]],decls:24,vars:7,consts:[[1,"grid","grow"],[1,"flex","justify-center","items-center"],[1,"sm:w-1/2","w-full",3,"errorMessages","successMessage"],[1,"flex","justify-center","items-center","p-8","lg:p-10","order-2","lg:order-1"],[1,"card","max-w-[370px]","w-full"],[1,"card-body","flex","flex-col","gap-5","p-10"],[1,"text-center","mb-2.5"],[1,"text-lg","font-medium","text-gray-900","leading-none"],[1,"flex","flex-col","gap-1"],[1,"form-label","font-normal","text-gray-900"],["placeholder","Enter employee number","type","text","value","",1,"input",3,"ngModel","ngModelChange"],[1,"flex","items-center","justify-between","gap-1"],["data-toggle-password","true",1,"input"],["name","user_password","placeholder","Enter Password","value","",3,"ngModel","type","ngModelChange"],["data-toggle-password-trigger","true","type","button",1,"btn","btn-icon",3,"click"],[4,"ngIf"],["type","button",1,"btn","btn-primary","flex","justify-center","grow",3,"click"],[1,"ki-filled","ki-eye","text-gray-500","toggle-password-active:hidden"],[1,"ki-filled","ki-eye-slash","text-gray-500","toggle-password-active:block"]],template:function(g,c){1&g&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-alert",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h3",7),t._uU(8," Sign in "),t.qZA()(),t.TgZ(9,"div",8)(10,"label",9),t._uU(11," Employee Number "),t.qZA(),t.TgZ(12,"input",10),t.NdJ("ngModelChange",function(M){return c.employeeNumber=M}),t.qZA()(),t.TgZ(13,"div",8)(14,"div",11)(15,"label",9),t._uU(16," Password "),t.qZA()(),t.TgZ(17,"div",12)(18,"input",13),t.NdJ("ngModelChange",function(M){return c.password=M}),t.qZA(),t.TgZ(19,"button",14),t.NdJ("click",function(){return c.togglePassword()}),t.YNc(20,x,2,0,"ng-container",15),t.YNc(21,y,2,0,"ng-container",15),t.qZA()()(),t.TgZ(22,"button",16),t.NdJ("click",function(){return c.signIn()}),t._uU(23," Sign In "),t.qZA()()()()()),2&g&&(t.xp6(2),t.Q6J("errorMessages",c.errorMessages)("successMessage",c.successMessage),t.xp6(10),t.Q6J("ngModel",c.employeeNumber),t.xp6(6),t.s9C("type",c.hidePassword?"password":"text"),t.Q6J("ngModel",c.password),t.xp6(2),t.Q6J("ngIf",c.hidePassword),t.xp6(1),t.Q6J("ngIf",!c.hidePassword))},dependencies:[e.O5,p.Fj,p.JJ,p.On,v.w]}),o})();var a=l(5730);const r=[{path:"",component:n}];let m=(()=>{const s=class{};let o=s;return s.\u0275fac=function(g){return new(g||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[e.ez,d.Bz.forChild(r),p.u5,a.n,d.Bz]}),o})()}}]);