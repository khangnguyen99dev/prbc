"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[788],{1788:(X,b,d)=>{d.r(b),d.d(b,{ViewModule:()=>R});var f=d(6895),Z=d(5861),_=d(1822),u=d(2340),C=d(5439),e=d(1571),v=d(6690),h=d(2605),M=d(6548);let y=(()=>{const r=class{constructor(){this.parseFloat=parseFloat}formatMoney(n,i,t=".",a=","){let l=""===n?0:n;i=isNaN(i=Math.abs(i))?2:i,t=void 0===t?".":t,a=void 0===a?",":a;const c=l<0?"-":"",p=String(parseInt(l=Math.abs(Number(l)||0).toFixed(i)));let g=0;return g=(g=p.length)>3?g%3:0,c+(g?p.substr(0,g)+a:"")+p.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+a)+(i?t+Math.abs(l-Number(p)).toFixed(i).slice(2):"")}formatNumberCalculate(n){return n?this.parseFloat(String(n).replace(/,/g,"")):0}};let s=r;return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),s})();var m=d(433),x=d(12);function A(s,r){if(1&s&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&s){const o=r.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function w(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.updateBonusBool())}),e._uU(1),e.qZA()}if(2&s){const o=e.oxw();e.Q6J("disabled",o.loading),e.xp6(1),e.hij(" ",o.loading?"Saving...":"Save"," ")}}function P(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"div",26)(1,"button",48),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.addItem())}),e._UZ(2,"i",49),e._uU(3," Add Employee "),e.qZA()()}}function U(s,r){1&s&&(e.TgZ(0,"th",36),e._uU(1,"Comment"),e.qZA())}function N(s,r){1&s&&(e.TgZ(0,"th",50),e._uU(1,"Action"),e.qZA())}function S(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"textarea",61),e.NdJ("ngModelChange",function(i){e.CHM(o);const t=e.oxw(2).$implicit;return e.KtG(t.comment=i)}),e.qZA()}if(2&s){const o=e.oxw(2).$implicit;e.Q6J("ngModel",o.comment)}}function q(s,r){if(1&s&&(e.TgZ(0,"td",56),e.YNc(1,S,1,1,"textarea",60),e.qZA()),2&s){const o=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","Pending"===o.status)}}function I(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){e.CHM(o);const i=e.oxw(3),t=i.index,a=i.$implicit,l=e.oxw();return e.KtG(l.deleteItem(t,a.id))}),e._UZ(1,"i",66),e.qZA()}}function J(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"div",63)(1,"button",67),e.NdJ("click",function(){e.CHM(o);const i=e.oxw(3).$implicit,t=e.oxw();return e.KtG(t.approvalItem("approve",i))}),e._uU(2," Approve "),e.qZA(),e.TgZ(3,"button",68),e.NdJ("click",function(){e.CHM(o);const i=e.oxw(3).$implicit,t=e.oxw();return e.KtG(t.approvalItem("reject",i))}),e._uU(4," Reject "),e.qZA()()}}function B(s,r){if(1&s&&(e.TgZ(0,"div",63),e.YNc(1,I,2,0,"button",64),e.YNc(2,J,5,0,"div",62),e.qZA()),2&s){const o=e.oxw(3);e.xp6(1),e.Q6J("ngIf",o.permissionService.hasPermission("Settings - Bonus Pool - Can Delete Bonus Pool Items")),e.xp6(1),e.Q6J("ngIf",o.permissionService.hasPermission("Settings - Bonus Pool - Can Approval Bonus Pool Items"))}}function V(s,r){if(1&s&&(e.TgZ(0,"td",56),e.YNc(1,B,3,2,"div",62),e.qZA()),2&s){const o=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","Pending"===o.status)}}function z(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"tr")(1,"td",51)(2,"p",52),e._uU(3,"Fetching Users..."),e.qZA(),e.TgZ(4,"select",53)(5,"option",21),e._uU(6,"Select User"),e.qZA()()(),e.TgZ(7,"td",51)(8,"input",54),e.NdJ("ngModelChange",function(i){const a=e.CHM(o).$implicit;return e.KtG(a.employee_name=i)}),e.qZA()(),e.TgZ(9,"td",51)(10,"input",55),e.NdJ("ngModelChange",function(i){const a=e.CHM(o).$implicit;return e.KtG(a.employee_number=i)}),e.qZA()(),e.TgZ(11,"td",56)(12,"input",57),e.NdJ("ngModelChange",function(i){const a=e.CHM(o).$implicit;return e.KtG(a.date_of_birth=i)}),e.qZA()(),e.TgZ(13,"td",56)(14,"input",58),e.NdJ("ngModelChange",function(i){const a=e.CHM(o).$implicit;return e.KtG(a.amount=i)}),e.qZA()(),e.TgZ(15,"td",56)(16,"textarea",25),e.NdJ("ngModelChange",function(i){const a=e.CHM(o).$implicit;return e.KtG(a.description=i)}),e.qZA()(),e.TgZ(17,"td",56)(18,"div"),e._uU(19),e.qZA()(),e.YNc(20,q,2,1,"td",59),e.YNc(21,V,2,1,"td",59),e.qZA()}if(2&s){const o=r.$implicit,n=r.index,i=e.oxw();e.xp6(4),e.MGl("id","user_selectize_",n,""),e.Q6J("disabled",!i.permissionService.hasPermission("Settings - Bonus Pool - Can Create Bonus Pool Items")||"Pending"!==o.status),e.xp6(4),e.Q6J("ngModel",o.employee_name),e.xp6(2),e.Q6J("ngModel",o.employee_number),e.xp6(2),e.Q6J("ngModel",o.date_of_birth),e.xp6(2),e.Q6J("ngModel",o.amount)("disabled",!i.permissionService.hasPermission("Settings - Bonus Pool - Can Create Bonus Pool Items")||"Pending"!==o.status),e.xp6(2),e.Q6J("ngModel",o.description)("disabled",!i.permissionService.hasPermission("Settings - Bonus Pool - Can Create Bonus Pool Items")||"Pending"!==o.status),e.xp6(2),e.Gre("badge badge-sm badge-",o.status_color," badge-outline"),e.xp6(1),e.hij(" ",o.status," "),e.xp6(1),e.Q6J("ngIf",i.permissionService.hasPermission("Settings - Bonus Pool - Can Approval Bonus Pool Items")),e.xp6(1),e.Q6J("ngIf",i.isPending(i.items))}}function Q(s,r){1&s&&(e.TgZ(0,"tr")(1,"td",69),e._uU(2," No items found "),e.qZA()())}function E(s,r){if(1&s){const o=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.saveItems())}),e._uU(1),e.qZA()}if(2&s){const o=e.oxw();e.Q6J("disabled",o.loading),e.xp6(1),e.hij(" ",o.loading?"Saving...":"Save Items"," ")}}function F(s,r){if(1&s&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"div"),e._uU(5),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA()()),2&s){const o=r.$implicit;e.xp6(2),e.Oqu(o.action),e.xp6(2),e.Gre("badge badge-sm badge-",o.status_color," badge-outline"),e.xp6(1),e.hij(" ",o.status," "),e.xp6(2),e.Oqu(o.comment),e.xp6(2),e.Oqu(null==o.user?null:o.user.name),e.xp6(2),e.Oqu(o.created_at_formatted)}}let j=(()=>{const r=class{constructor(n,i,t,a,l){this.headerService=n,this.router=i,this.route=t,this.permissionService=a,this.formatterService=l,this.modelId=null,this.errorMessages=[],this.loading=!1,this.successMessage="",this.bonusPool=null,this.entities=[],this.items=[],this.histories=[],this.isDisabled=!1,this.form={id:null,name:"",code:"",currency:"",total_bonus:"",minimum_management_bonus:"",description:"",status:""},this.headerService.setupHeader([{title:"Settings"},{title:"Bonus Pool",link:"/settings/bonus-pool"},{title:"View Bonus Pool"}])}ngOnInit(){var n=this;return(0,Z.Z)(function*(){n.route.params.subscribe(function(){var i=(0,Z.Z)(function*(t){n.modelId=t.id,yield n.getBonusPool(),yield n.getEntities(),n.setupSelectize()});return function(t){return i.apply(this,arguments)}}()),n.route.queryParams.subscribe(i=>{i.success_message&&(window.scrollTo(0,0),n.successMessage="Bonus Pool created successfully",n.clearMessages())})})()}getEntities(){_.Z.get(`${u.N.api_url}/settings/entities`,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${window.localStorage.getItem(u.N.api_token_identifier)}`}}).then(n=>{this.entities=n.data.entities.data}).catch(n=>{this.errorMessages=n.response.data.errors,this.loading=!1})}getBonusPool(){this.loading=!0,_.Z.get(`${u.N.api_url}/settings/bonus-pools/${this.modelId}`,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${window.localStorage.getItem(u.N.api_token_identifier)}`}}).then(n=>{n.data.error?this.errorMessages=n.data.error_message:(this.bonusPool=n.data.bonus_pool,this.form.entity_id=this.bonusPool.entity_id,this.form.name=this.bonusPool.name,this.form.code=this.bonusPool.code,this.form.currency=this.bonusPool.currency,this.form.total_bonus=this.formatterService.formatMoney(this.bonusPool.total_bonus_in_doc,2,".",""),this.form.minimum_management_bonus=this.formatterService.formatMoney(this.bonusPool.minimum_management_bonus_in_doc,2,".",""),this.form.remaining_bonus_in_doc=this.formatterService.formatMoney(this.bonusPool.remaining_bonus_in_doc,2,".",""),this.form.description=this.bonusPool.description,this.form.status=this.bonusPool.status,this.histories=this.bonusPool.histories,this.items=this.bonusPool.items,this.items.forEach((i,t)=>{i.amount=this.formatterService.formatMoney(i.bonus_amount_in_doc,2,".",""),this.setupUserSelectize(t,i)}),(this.items.length>0||!this.permissionService.hasPermission("Settings - Bonus Pool - Can Create Bonus Pool"))&&(this.isDisabled=!0))}).catch(n=>{this.errorMessages=n.response.data.error_message}).finally(()=>{this.loading=!1})}setupSelectize(){const n=this;$(function(){$("#currency_selectize").selectize()[0].selectize.destroy();const t=$("#currency_selectize").selectize({preload:!0,valueField:"currency_code",searchField:"label",labelField:"label",load:(a,l)=>{$("#fetching_currency").show(),$.ajax({url:`${u.N.api_url}/settings/currencies?search_selectize=${a}`,type:"GET",error:function(){l(),$("#fetching_currency").hide()},success:c=>{l(c?.currencies?.data),$("#fetching_currency").hide(),n.form.currency&&t.setValue(n.form.currency)},headers:{Authorization:`Bearer ${window.localStorage.getItem(u.N.api_token_identifier)}`,"Content-Type":"application/json"}})}})[0].selectize;setTimeout(()=>{n.isDisabled&&t.disable()},300)})}updateBonusBool(){this.loading=!0,this.form.currency=$("#currency_selectize").val(),_.Z.put(`${u.N.api_url}/settings/bonus-pools/${this.modelId}`,this.form,{headers:{Authorization:`Bearer ${window.localStorage.getItem(u.N.api_token_identifier)}`}}).then(n=>{if(n.data.error)return this.errorMessages.push(n.data.error_message),window.scrollTo(0,0),void(this.loading=!1);this.successMessage=n.data.message,window.scrollTo(0,0),setTimeout(()=>{this.loading=!1},3500),this.getBonusPool()}).catch(n=>{console.error(n),422==n.response.status?Object.keys(n.response.data.errors).forEach(i=>{this.errorMessages.push(n.response.data.errors[i])}):this.errorMessages.push("Sorry, something went wrong. Please try again later."),window.scrollTo(0,0),this.loading=!1})}addItem(){this.setupUserSelectize(this.items.length),this.items.push({user_id:null,employee_name:"",employee_number:"",date_of_birth:"",amount:"",description:"",status:"Pending",status_color:"warning"})}deleteItem(n,i){this.items.splice(n,1)}saveItems(){if(this.loading=!0,0==this.items.length)return this.errorMessages.push("Please add at least one item"),void(this.loading=!1);_.Z.post(`${u.N.api_url}/settings/bonus-pools/${this.modelId}/items`,{items:this.items},{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${window.localStorage.getItem(u.N.api_token_identifier)}`}}).then(n=>{n.data.error?(this.successMessage="",this.errorMessages=[n.data.error_message],window.scrollTo(0,0),this.loading=!1):(this.errorMessages=[],this.successMessage="Bonus Pool saved successfully",this.loading=!1,window.scrollTo(0,0),this.getBonusPool())}).catch(n=>{this.errorMessages=n.response.data.errors,this.loading=!1})}setupUserSelectize(n,i=null){const t=this;$(function(){$(`#user_selectize_${n}`).selectize()[0].selectize.destroy();const l=$(`#user_selectize_${n}`).selectize({preload:!0,valueField:"id",searchField:"label",labelField:"label",load:(c,p)=>{$("#fetching_user").show(),$.ajax({url:`${u.N.api_url}/settings/users?search_selectize=${c}&entity_id=${t.form.entity_id}`,type:"GET",error:function(){p(),$("#fetching_user").hide()},success:g=>{p(g?.users?.data),$("#fetching_user").hide(),i&&l.setValue(i.user_id)},headers:{Authorization:`Bearer ${window.localStorage.getItem(u.N.api_token_identifier)}`,"Content-Type":"application/json"}})},onChange:c=>{t.items[n].employee_name=l.options[c].name,t.items[n].employee_number=l.options[c].employee_number,t.items[n].date_of_birth=l.options[c].date_of_birth?C(l.options[c].date_of_birth).format("DD/MM/YYYY"):"",t.items[n].user_id=c}})[0].selectize})}approvalItem(n,i){let t="";t="approve"==n?"Are you sure you want to approve this item?":"Are you sure you want to reject this item?",confirm(t)&&(this.loading=!0,_.Z.post(`${u.N.api_url}/settings/bonus-pools/${this.modelId}/items/${i.id}/approval`,{action:n,comment:i.comment},{headers:{Authorization:`Bearer ${window.localStorage.getItem(u.N.api_token_identifier)}`}}).then(a=>{if(a.data.error)return this.errorMessages.push(a.data.error_message),window.scrollTo(0,0),void(this.loading=!1);this.successMessage=a.data.message,window.scrollTo(0,0),setTimeout(()=>{this.loading=!1},3500),this.getBonusPool()}).catch(a=>{this.errorMessages=a.response.data.errors,this.loading=!1}))}isPending(n){return n.some(i=>"Pending"==i.status)}getTotalAmount(){const n=this.items.reduce((i,t)=>"Rejected"!=t.status?i+(t.amount?parseFloat(t.amount):0):i,0);return this.formatterService.formatNumberCalculate(n)}clearMessages(){setTimeout(()=>{this.successMessage=""},3500)}};let s=r;return r.\u0275fac=function(i){return new(i||r)(e.Y36(v.r),e.Y36(h.F0),e.Y36(h.gz),e.Y36(M.$),e.Y36(y))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-view"]],inputs:{modelId:"modelId"},decls:132,vars:28,consts:[[1,"container-fixed"],[1,"flex","flex-wrap","items-center","lg:items-end","justify-between","gap-5","pb-7.5"],[1,"flex","flex-col","justify-center","gap-2"],[1,"text-xl","font-medium","leading-none","text-gray-900"],[1,"flex","items-center","gap-2.5"],["routerLink","/settings/budget-management",1,"btn","btn-sm","btn-light"],[3,"errorMessages","successMessage"],[1,"grid","gap-5","lg:gap-7.5","w-full","mx-left"],["id","basic_settings",1,"pl-0"],[1,"card-title","pl-0"],[1,"my-4"],[1,"grid","gap-5"],[1,"flex","items-center","flex-wrap","lg:flex-nowrap","gap-2.5"],[1,"form-label","max-w-56"],[1,"text-danger"],["placeholder","Select entity name",1,"input",3,"ngModel","disabled","ngModelChange"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Enter name",1,"input",3,"ngModel","disabled","ngModelChange"],["type","text","placeholder","Enter code",1,"input",3,"ngModel","disabled","ngModelChange"],["name","currency_selectize","id","currency_selectize",1,"w-full",3,"disabled"],["value",""],["type","number","placeholder","Enter total bonus",1,"input",3,"ngModel","disabled","ngModelChange"],["type","number","placeholder","Enter minimum management bonus",1,"input",3,"ngModel","disabled","ngModelChange"],["type","number","placeholder","Enter remaining bonus",1,"input",3,"ngModel","disabled","ngModelChange"],["rows","3",1,"textarea","text-2sm","text-gray-600","font-normal",2,"height","80px",3,"ngModel","disabled","ngModelChange"],[1,"flex","justify-end"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"card-title"],["class","flex justify-end",4,"ngIf"],[1,"grid","gap-5","lg:gap-7.5"],[1,"card","card-grid","min-w-full"],[1,"card-body"],["data-datatable","true","data-datatable-page-size","20"],[1,"scrollable-x-auto"],["data-datatable-table","true",1,"table","table-auto","table-border"],[1,"min-w-52"],[1,"min-w-72"],["class","min-w-52",4,"ngIf"],["class","min-w-24",4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","4",1,"p-4"],[1,"text-left","text-gray-800","font-bold","p-4"],[1,"p-4"],[4,"ngIf"],[1,"flex","justify-end","mt-5","mb-10","gap-2.5"],[3,"value"],[1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-light","btn-sm",3,"click"],[1,"ki-filled","ki-plus"],[1,"min-w-24"],[1,"text-sm","text-gray-800","font-normal"],["id","fetching_user",1,"pt-2","text-sm",2,"display","none"],["name","user_selectize",1,"w-full",3,"id","disabled"],["type","text","placeholder","Enter employee name","disabled","",1,"input",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter employee number","disabled","",1,"input",3,"ngModel","ngModelChange"],[1,"lg:text-start"],["type","text","placeholder","Enter date of birth","disabled","",1,"input",3,"ngModel","ngModelChange"],["type","number","min","0","placeholder","Enter amount",1,"input",3,"ngModel","disabled","ngModelChange"],["class","lg:text-start",4,"ngIf"],["class","textarea text-2sm text-gray-600 font-normal","rows","3","style","height: 80px;",3,"ngModel","ngModelChange",4,"ngIf"],["rows","3",1,"textarea","text-2sm","text-gray-600","font-normal",2,"height","80px",3,"ngModel","ngModelChange"],["class","flex gap-2",4,"ngIf"],[1,"flex","gap-2"],["class","btn btn-sm btn-icon btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-icon","btn-danger",3,"click"],[1,"ki-filled","ki-trash"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],["colspan","10",1,"text-center","text-gray-500","font-normal"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4," View Bonus Pool "),e.qZA()(),e.TgZ(5,"div",4)(6,"a",5),e._uU(7," Back "),e.qZA()()(),e._UZ(8,"app-alert",6),e.TgZ(9,"div",7)(10,"div")(11,"div",8)(12,"h3",9),e._uU(13," Bonus Pool Information "),e.qZA(),e._UZ(14,"hr",10),e.qZA(),e.TgZ(15,"div",11)(16,"div",12)(17,"label",13),e._uU(18," Entity Name "),e.TgZ(19,"span",14),e._uU(20,"\xa0*"),e.qZA()(),e.TgZ(21,"select",15),e.NdJ("ngModelChange",function(l){return t.form.entity_id=l}),e.TgZ(22,"option",16),e._uU(23,"Select entity name"),e.qZA(),e.YNc(24,A,2,2,"option",17),e.qZA()(),e.TgZ(25,"div",12)(26,"label",13),e._uU(27," Name "),e.TgZ(28,"span",14),e._uU(29,"\xa0*"),e.qZA()(),e.TgZ(30,"input",18),e.NdJ("ngModelChange",function(l){return t.form.name=l}),e.qZA()(),e.TgZ(31,"div",12)(32,"label",13),e._uU(33," Code "),e.TgZ(34,"span",14),e._uU(35,"\xa0*"),e.qZA()(),e.TgZ(36,"input",19),e.NdJ("ngModelChange",function(l){return t.form.code=l}),e.qZA()(),e.TgZ(37,"div",12)(38,"label",13),e._uU(39," Currency "),e.TgZ(40,"span",14),e._uU(41,"\xa0*"),e.qZA()(),e.TgZ(42,"select",20)(43,"option",21),e._uU(44,"Select Currency"),e.qZA()()(),e.TgZ(45,"div",12)(46,"label",13),e._uU(47," Total Bonus "),e.TgZ(48,"span",14),e._uU(49,"\xa0*"),e.qZA()(),e.TgZ(50,"input",22),e.NdJ("ngModelChange",function(l){return t.form.total_bonus=l}),e.qZA()(),e.TgZ(51,"div",12)(52,"label",13),e._uU(53," Minimum Management Bonus "),e.TgZ(54,"span",14),e._uU(55,"\xa0*"),e.qZA()(),e.TgZ(56,"input",23),e.NdJ("ngModelChange",function(l){return t.form.minimum_management_bonus=l}),e.qZA()(),e.TgZ(57,"div",12)(58,"label",13),e._uU(59," Remaining Bonus "),e.qZA(),e.TgZ(60,"input",24),e.NdJ("ngModelChange",function(l){return t.form.remaining_bonus_in_doc=l}),e.qZA()(),e.TgZ(61,"div",12)(62,"label",13),e._uU(63," Description "),e.qZA(),e.TgZ(64,"textarea",25),e.NdJ("ngModelChange",function(l){return t.form.description=l}),e.qZA()(),e.TgZ(65,"div",26),e.YNc(66,w,2,2,"button",27),e.qZA()()()()(),e.TgZ(67,"div",0)(68,"div",8)(69,"h3",28),e._uU(70," Employees "),e.qZA(),e.YNc(71,P,4,0,"div",29),e._UZ(72,"hr",10),e.qZA(),e.TgZ(73,"div",30)(74,"div",31)(75,"div",32)(76,"div",33)(77,"div",34)(78,"table",35)(79,"thead")(80,"tr")(81,"th",36),e._uU(82,"Employee"),e.qZA(),e.TgZ(83,"th",36),e._uU(84,"Employee Name"),e.qZA(),e.TgZ(85,"th",36),e._uU(86,"Employee Number"),e.qZA(),e.TgZ(87,"th",36),e._uU(88,"Date of birth"),e.qZA(),e.TgZ(89,"th",37),e._uU(90,"Amount"),e.qZA(),e.TgZ(91,"th",36),e._uU(92,"Reason"),e.qZA(),e.TgZ(93,"th",36),e._uU(94,"Status"),e.qZA(),e.YNc(95,U,2,0,"th",38),e.YNc(96,N,2,0,"th",39),e.qZA()(),e.TgZ(97,"tbody"),e.YNc(98,z,22,15,"tr",40),e.TgZ(99,"tr"),e._UZ(100,"td",41),e.TgZ(101,"td",42),e._uU(102),e.qZA(),e._UZ(103,"td",43),e.qZA(),e.YNc(104,Q,3,0,"tr",44),e.qZA()()()()()()(),e.TgZ(105,"div",45),e.YNc(106,E,2,2,"button",27),e.qZA()(),e.TgZ(107,"div",0)(108,"div",8)(109,"h3",28),e._uU(110," Histories "),e.qZA(),e._UZ(111,"hr",10),e.TgZ(112,"div",30)(113,"div",31)(114,"div",32)(115,"div",33)(116,"div",34)(117,"table",35)(118,"thead")(119,"tr")(120,"th",36),e._uU(121,"Action"),e.qZA(),e.TgZ(122,"th",36),e._uU(123,"Status"),e.qZA(),e.TgZ(124,"th",36),e._uU(125,"Comment"),e.qZA(),e.TgZ(126,"th",36),e._uU(127,"User"),e.qZA(),e.TgZ(128,"th",36),e._uU(129,"Date"),e.qZA()()(),e.TgZ(130,"tbody"),e.YNc(131,F,12,8,"tr",40),e.qZA()()()()()()()()()),2&i&&(e.xp6(8),e.Q6J("errorMessages",t.errorMessages)("successMessage",t.successMessage),e.xp6(13),e.Q6J("ngModel",t.form.entity_id)("disabled",t.isDisabled),e.xp6(3),e.Q6J("ngForOf",t.entities),e.xp6(6),e.Q6J("ngModel",t.form.name)("disabled",t.isDisabled),e.xp6(6),e.Q6J("ngModel",t.form.code)("disabled",t.isDisabled),e.xp6(6),e.Q6J("disabled",t.isDisabled),e.xp6(8),e.Q6J("ngModel",t.form.total_bonus)("disabled",t.isDisabled),e.xp6(6),e.Q6J("ngModel",t.form.minimum_management_bonus)("disabled",t.isDisabled),e.xp6(4),e.Q6J("ngModel",t.form.remaining_bonus_in_doc)("disabled",!0),e.xp6(4),e.Q6J("ngModel",t.form.description)("disabled",t.isDisabled),e.xp6(2),e.Q6J("ngIf",!t.isDisabled&&t.permissionService.hasPermission("Settings - Bonus Pool - Can Update Bonus Pool")),e.xp6(5),e.Q6J("ngIf",t.permissionService.hasPermission("Settings - Bonus Pool - Can Create Bonus Pool Items")&&"Approved"!=t.form.status),e.xp6(24),e.Q6J("ngIf",t.permissionService.hasPermission("Settings - Bonus Pool - Can Approval Bonus Pool Items")&&t.isPending(t.items)),e.xp6(1),e.Q6J("ngIf",t.isPending(t.items)),e.xp6(2),e.Q6J("ngForOf",t.items),e.xp6(4),e.AsE(" Total: ",t.formatterService.formatMoney(t.getTotalAmount(),2,".",",")," ",t.form.currency," "),e.xp6(2),e.Q6J("ngIf",0==(null==t.items?null:t.items.length)),e.xp6(2),e.Q6J("ngIf",t.items.length>0&&t.permissionService.hasPermission("Settings - Bonus Pool - Can Create Bonus Pool Items")&&t.isPending(t.items)),e.xp6(25),e.Q6J("ngForOf",t.histories))},dependencies:[f.sg,f.O5,h.rH,m.YN,m.Kr,m.Fj,m.wV,m.EJ,m.JJ,m.qQ,m.On,x.w]}),s})();var Y=d(5730),k=d(507),G=d(4859),D=d(4144),H=d(9602),T=d(3238),K=d(9549);const O=[{path:"",component:j}];let R=(()=>{const r=class{};let s=r;return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[{provide:T.Ad,useValue:"en-GB"}],imports:[f.ez,h.Bz.forChild(O),m.u5,Y.n,k.u,G.ot,D.c,H.FA,T.XK,K.lN]}),s})()}}]);