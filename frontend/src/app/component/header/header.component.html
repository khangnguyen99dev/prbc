<header
    class="header fixed top-0 z-10 start-0 end-0 flex items-stretch shrink-0 bg-white"
    data-sticky="true" data-sticky-class="shadow-sm" data-sticky-name="header" id="header">
    <!-- Container -->
    <div class="container-fixed flex justify-between items-stretch lg:gap-4" id="header_container">
        <!-- Mobile Logo -->
        <div class="flex gap-1 lg:hidden items-center -ms-1">
            <a class="shrink-0" routerLink="/home">
                <img class="max-h-[20px] w-full" src="/assets/media/app/logo-dark.svg" />
            </a>
            <div class="flex items-center">
                <button class="btn btn-icon btn-light btn-clear btn-sm" data-drawer-toggle="#sidebar">
                    <i class="ki-filled ki-menu">
                    </i>
                </button>
            </div>
        </div>
        <!-- End of Mobile Logo -->
        <div class="flex [.header_&]:below-lg:hidden items-center gap-1.25 text-xs lg:text-sm font-medium mb-2.5 lg:mb-0"
            data-reparent="true" data-reparent-mode="prepend|lg:prepend"
            data-reparent-target="#content_container|lg:#header_container">
            <ng-container *ngFor="let item of headerContainer; let index = index">
                <span *ngIf="item?.link" class="text-gray-700 hover:text-primary">
                    <a routerLink="{{ item.link }}">{{ item.title }}</a>
                </span>
                <span *ngIf="!item.link" class="text-gray-700">
                    {{ item.title }}
                </span>

                <i *ngIf="index < headerContainer.length - 1" class="ki-filled ki-right text-gray-500 text-3xs">
                </i>
            </ng-container>
        </div>
        <!--Megamenu Contaoner-->
        <div class="flex items-stretch" id="mega_menu_container">
            <!--Megamenu Inner-->
            <div class="flex items-stretch" data-reparent="true" data-reparent-mode="prepend|lg:prepend"
                data-reparent-target="body|lg:#mega_menu_container">
                <!--Megamenu Wrapper-->
                <div class="hidden lg:flex lg:items-stretch" data-drawer="true"
                    data-drawer-class="drawer drawer-start fixed z-10 top-0 bottom-0 w-full me-5 max-w-[250px] p-5 lg:p-0 overflow-auto"
                    data-drawer-enable="true|lg:false" id="mega_menu_wrapper">
                    <!--Megamenu-->
                    <div class="menu flex-col lg:flex-row gap-5 lg:gap-7.5" data-menu="true" id="mega_menu">
                        <!--Megamenu Item-->
                        <div class="menu-item active">
                            <a class="menu-link text-nowrap text-sm text-gray-800 font-medium menu-item-hover:text-primary menu-item-active:text-gray-900 menu-item-active:font-medium"
                                href="/home">
                                <!-- <span class="menu-title text-nowrap">
                                    Home
                                </span> -->
                            </a>
                        </div>
                        <!--End of Megamenu Item-->

                    </div>
                    <!--End of Megamenu-->
                </div>
                <!--End of Megamenu Wrapper-->
            </div>
            <!--End of Megamenu Inner-->
        </div>
        <!--End of Megamenu Contaoner-->
        <!-- Topbar -->
        <div class="flex items-center gap-2 lg:gap-3.5">
            <div class="menu" data-menu="true">
                <div class="menu-item" data-menu-item-offset="20px, 10px" data-menu-item-offset-rtl="-20px, 10px"
                    data-menu-item-placement="bottom-end" data-menu-item-placement-rtl="bottom-start"
                    data-menu-item-toggle="dropdown" data-menu-item-trigger="click|lg:click">
                    <div class="menu-toggle text-sm text-gray-800 font-semibold hover:text-primary relative">
                        <!-- <img alt="" class="size-9 rounded-full border-2 border-success shrink-0"
                            src="assets/media/avatars/300-2.png"> -->
                        {{ currentUser?.name }} &nbsp;<span class="text-white bg-red-500 rounded-full absolute -top-3 -right-3" style="font-size: 8px; padding: 0px 7px;" *ngIf="notifications.length > 0">{{ notifications.length }}</span>
                    </div>
                    <div class="menu-dropdown menu-default light:border-gray-300 w-screen max-w-[250px]">
                        <div class="flex items-center justify-between px-5 py-1.5 gap-1.5">
                            <div class="flex items-center gap-2">
                                <!-- <img alt="" class="size-9 rounded-full border-2 border-success"
                                    src="assets/media/avatars/300-2.png"> -->
                                <div class="flex flex-col gap-1.5">
                                    <span class="text-sm text-gray-800 font-semibold leading-none">
                                        {{ currentUser?.name }}
                                    </span>
                                    <div class="text-xs text-gray-600 hover:text-primary font-medium leading-none">
                                        {{ currentUser?.email }}
                                    </div>
                                </div>
                            </div>
                            <span class="badge badge-xs badge-primary badge-outline">
                                {{ currentUser?.employee_number }}
                            </span>
                        </div>
                        <div class="menu-separator">
                        </div>
                        <div class="flex flex-col">
                            <div class="menu-item">
                                <a class="menu-link" routerLink="/my-profile">
                                    <span class="menu-icon">
                                        <i class="ki-filled ki-profile-circle">
                                        </i>
                                    </span>
                                    <span class="menu-title">
                                        My Profile
                                    </span>
                                </a>
                            </div>
                            <div class="menu-item">
                                <a class="menu-link" routerLink="/notifications">
                                    <span class="menu-icon">
                                        <i class="ki-filled ki-notification-on">
                                        </i>
                                    </span>
                                    <span class="menu-title">
                                        Notifications &nbsp;<span class="text-white bg-red-500 rounded-full" style="font-size: 8px; padding: 0px 7px;">{{ notifications.length }}</span>
                                    </span>
                                </a>
                            </div>
                        </div>
                        <div class="menu-separator">
                        </div>
                        <div class="flex flex-col">
                            <div class="menu-item px-4 py-1.5">
                                <a class="btn btn-sm btn-light justify-center" (click)="onLogout()">
                                    Log out
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of Topbar -->
    </div>
    <!-- End of Container -->
</header>